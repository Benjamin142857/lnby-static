"use strict";(self["webpackChunkpc"]=self["webpackChunkpc"]||[]).push([[841],{4841:function(t,e,a){a.r(e),a.d(e,{default:function(){return c}});var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-row",{staticStyle:{height:"1000px",width:"1200px",margin:"30px auto","text-align":"left"}},[a("el-row",[a("el-row",{staticStyle:{"margin-bottom":"20px"}},[a("el-input",{attrs:{placeholder:"请输入要搜索的关键词"},on:{change:t.filterChange},model:{value:t.filterItem.keyword,callback:function(e){t.$set(t.filterItem,"keyword",e)},expression:"filterItem.keyword"}},[a("template",{slot:"prepend"},[a("i",{staticClass:"el-icon-search"})])],2)],1),a("el-row",{staticStyle:{"background-color":"white",border:"1px solid rgba(200, 200, 200, 0.6)","min-height":"60px",padding:"12px 30px 2px 30px"}},[a("el-col",{staticStyle:{"padding-top":"6px"},attrs:{span:3}},[a("span",{staticStyle:{color:"dodgerblue"}},[a("i",{staticClass:"el-icon-menu"}),t._v(" 品类筛选: ")])]),a("el-col",{attrs:{span:21}},t._l(t.filterItem.productCateGoryList,(function(e,r){return a("el-radio",{key:r,staticStyle:{"margin-bottom":"10px"},attrs:{label:e.id,border:"",size:"medium"},on:{change:t.filterChange},model:{value:t.filterItem.productCateGorySelect,callback:function(e){t.$set(t.filterItem,"productCateGorySelect",e)},expression:"filterItem.productCateGorySelect"}},[t._v(" "+t._s(e.label)+" ")])})),1)],1)],1),a("el-row",{directives:[{name:"loading",rawName:"v-loading",value:0===t.dataReqStatus,expression:"dataReqStatus===0"}],staticStyle:{height:"700px","margin-top":"20px"},attrs:{"element-loading-background":"rgba(0, 0, 0, 0.1)"}},[1===t.dataReqStatus&&t.dataFilter.length>0?a("el-row",t._l(t.dataShow,(function(e,r){return a("el-card",{key:r,staticClass:"product-card",style:r%4>0?"margin-left: 40px":"",attrs:{shadow:"hover","body-style":{padding:"0px"}},nativeOn:{click:function(a){return t.gotoDetail(e.id)}}},[a("img",{staticClass:"image",attrs:{src:e.cover,width:"270",height:"270"}}),a("div",{staticStyle:{"text-align":"center",padding:"8px 20px","font-size":"12px","white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis"}},[t._v(t._s(e.title))])])})),1):1===t.dataReqStatus&&0===t.dataFilter.length?a("el-row",{staticStyle:{"text-align":"center","margin-top":"300px","font-size":"22px",color:"darkgrey"}},[t._v(" 抱歉！当前搜索过滤条件下没有找到相关产品。 ")]):-1===t.dataReqStatus?a("el-row",[t._v(" "+t._s(t.dataReqErrMsg)+" ")]):a("el-row")],1),a("el-row",{staticStyle:{"margin-top":"20px","text-align":"center"}},[a("el-pagination",{staticStyle:{"font-size":"16px"},attrs:{background:"","current-page":t.pageSelect,"page-size":8,layout:"prev, pager, next",total:t.dataFilter.length},on:{"current-change":t.pageChange,"update:currentPage":function(e){t.pageSelect=e},"update:current-page":function(e){t.pageSelect=e}}})],1)],1)},i=[],l=(a(6699),{name:"list",data(){return{filterItem:{keyword:"",productCateGoryList:[{label:"全部",id:0}],productCateGorySelect:0},data:[],dataFilter:[],dataShow:[],dataReqStatus:0,dataReqErrMsg:"",pageSelect:1}},methods:{async getProductList(){this.dataReqStatus=0;try{const t=await this.$http.get("/api/getProductList",{});this.data=t.data.product_lst,this.filterItem.productCateGoryList=[{label:"全部",id:0},...t.data.category],this.filterChange(),this.dataReqStatus=1}catch(t){this.dataReqErrMsg=t,this.dataReqStatus=-1}},filterChange(){let t=this.data;const e=this.filterItem.keyword.trim().toLowerCase();e&&(t=t.filter((t=>t.title.toLowerCase().includes(e)))),this.filterItem.productCateGorySelect&&(t=t.filter((t=>t.category===this.filterItem.productCateGorySelect))),this.dataFilter=t,this.pageSelect=1,this.pageChange()},pageChange(){this.dataShow=this.dataFilter.slice(8*(this.pageSelect-1),8*this.pageSelect)},gotoDetail(t){this.$router.replace(`/list/detail?id=${t}`)},sleepMs(t){return new Promise((e=>{setTimeout(e,t)}))}},created(){},mounted(){this.filterItem.keyword="",this.filterItem.productCateGorySelect=0,this.getProductList()}}),o=l,s=a(3736),n=(0,s.Z)(o,r,i,!1,null,"44d62fbe",null),c=n.exports}}]);
//# sourceMappingURL=841.666bc622.js.map