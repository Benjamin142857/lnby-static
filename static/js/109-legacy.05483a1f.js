(self["webpackChunkpc"]=self["webpackChunkpc"]||[]).push([[109],{73109:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return y}});var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("el-row",{staticStyle:{height:"1000px",width:"1200px",margin:"30px auto","text-align":"left"}},[r("el-row",[r("el-row",{staticStyle:{"margin-bottom":"20px"}},[r("el-input",{attrs:{placeholder:"请输入要搜索的关键词"},on:{change:t.filterChange},model:{value:t.filterItem.keyword,callback:function(e){t.$set(t.filterItem,"keyword",e)},expression:"filterItem.keyword"}},[r("template",{slot:"prepend"},[r("i",{staticClass:"el-icon-search"})])],2)],1),r("el-row",{staticStyle:{"background-color":"white",border:"1px solid rgba(200, 200, 200, 0.6)","min-height":"60px",padding:"12px 30px 2px 30px"}},[r("el-col",{staticStyle:{"padding-top":"6px"},attrs:{span:3}},[r("span",{staticStyle:{color:"dodgerblue"}},[r("i",{staticClass:"el-icon-menu"}),t._v(" 品类筛选: ")])]),r("el-col",{attrs:{span:21}},t._l(t.filterItem.productCateGoryList,(function(e,a){return r("el-radio",{key:a,staticStyle:{"margin-bottom":"10px"},attrs:{label:e.id,border:"",size:"medium"},on:{change:t.filterChange},model:{value:t.filterItem.productCateGorySelect,callback:function(e){t.$set(t.filterItem,"productCateGorySelect",e)},expression:"filterItem.productCateGorySelect"}},[t._v(" "+t._s(e.label)+" ")])})),1)],1)],1),r("el-row",{directives:[{name:"loading",rawName:"v-loading",value:0===t.dataReqStatus,expression:"dataReqStatus===0"}],staticStyle:{height:"700px","margin-top":"20px"},attrs:{"element-loading-background":"rgba(0, 0, 0, 0.1)"}},[1===t.dataReqStatus&&t.dataFilter.length>0?r("el-row",t._l(t.dataShow,(function(e,a){return r("el-card",{key:a,staticClass:"product-card",style:a%4>0?"margin-left: 40px":"",attrs:{shadow:"hover","body-style":{padding:"0px"}},nativeOn:{click:function(r){return t.gotoDetail(e.id)}}},[r("img",{staticClass:"image",attrs:{src:e.cover,width:"270",height:"270"}}),r("div",{staticStyle:{"text-align":"center",padding:"8px 20px","font-size":"12px","white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis"}},[t._v(t._s(e.title))])])})),1):1===t.dataReqStatus&&0===t.dataFilter.length?r("el-row",{staticStyle:{"text-align":"center","margin-top":"300px","font-size":"22px",color:"darkgrey"}},[t._v(" 抱歉！当前搜索过滤条件下没有找到相关产品。 ")]):-1===t.dataReqStatus?r("el-row",[t._v(" "+t._s(t.dataReqErrMsg)+" ")]):r("el-row")],1),r("el-row",{staticStyle:{"margin-top":"20px","text-align":"center"}},[r("el-pagination",{staticStyle:{"font-size":"16px"},attrs:{background:"","current-page":t.pageSelect,"page-size":8,layout:"prev, pager, next",total:t.dataFilter.length},on:{"current-change":t.pageChange,"update:currentPage":function(e){t.pageSelect=e},"update:current-page":function(e){t.pageSelect=e}}})],1)],1)},n=[],i=r(80543);function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,a=new Array(e);r<e;r++)a[r]=t[r];return a}function l(t){if(Array.isArray(t))return o(t)}r(82526),r(41817),r(41539),r(32165),r(78783),r(33948),r(91038);function c(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}r(47042),r(68309),r(74916),r(77601);function s(t,e){if(t){if("string"===typeof t)return o(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(t,e):void 0}}r(21703);function u(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function d(t){return l(t)||c(t)||s(t)||u()}var p=r(81448),g=(r(92222),r(73210),r(57327),r(26699),r(32023),r(15306),{name:"list",data:function(){return{filterItem:{keyword:"",productCateGoryList:[{label:"全部",id:0}],productCateGorySelect:0},data:[],dataFilter:[],dataShow:[],dataReqStatus:0,dataReqErrMsg:"",pageSelect:1}},methods:{getProductList:function(){var t=this;return(0,p.Z)((0,i.Z)().mark((function e(){var r;return(0,i.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.dataReqStatus=0,e.prev=1,e.next=4,t.$http.get("/api/getProductList",{});case 4:r=e.sent,t.data=r.data.product_lst,t.filterItem.productCateGoryList=[{label:"全部",id:0}].concat(d(r.data.category)),t.filterChange(),t.dataReqStatus=1,e.next=15;break;case 11:e.prev=11,e.t0=e["catch"](1),t.dataReqErrMsg=e.t0,t.dataReqStatus=-1;case 15:case"end":return e.stop()}}),e,null,[[1,11]])})))()},filterChange:function(){var t=this,e=this.data,r=this.filterItem.keyword.trim().toLowerCase();r&&(e=e.filter((function(t){return t.title.toLowerCase().includes(r)}))),this.filterItem.productCateGorySelect&&(e=e.filter((function(e){return e.category===t.filterItem.productCateGorySelect}))),this.dataFilter=e,this.pageSelect=1,this.pageChange()},pageChange:function(){this.dataShow=this.dataFilter.slice(8*(this.pageSelect-1),8*this.pageSelect)},gotoDetail:function(t){this.$router.replace("/list/detail?id=".concat(t))},sleepMs:function(t){return new Promise((function(e){setTimeout(e,t)}))}},created:function(){},mounted:function(){this.filterItem.keyword="",this.filterItem.productCateGorySelect=0,this.getProductList()}}),f=g,h=r(43736),m=(0,h.Z)(f,a,n,!1,null,"44d62fbe",null),y=m.exports},91038:function(t,e,r){var a=r(82109),n=r(48457),i=r(17072),o=!i((function(t){Array.from(t)}));a({target:"Array",stat:!0,forced:o},{from:n})}}]);
//# sourceMappingURL=109-legacy.05483a1f.js.map